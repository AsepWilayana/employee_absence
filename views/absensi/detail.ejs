<div class="container mt-5">
  <h1>Detail Pegawai</h1>
  <div class="card shadow p-3 mb-5 bg-body rounded" style="width: 50rem">
    <img
      src="/uploads/<%= pegawai.photo %>"
      class="card-img-top w-25 rounded mb-2"
    />
    <ul class="list-group list-group-flush">
      <li class="list-group-item">
        <i class="bi bi-person-fill"></i> Nomor Induk Pegawai :
        <b><%= pegawai.nip %></b>
      </li>
      <li class="list-group-item">
        <i class="bi bi-person-fill"></i> Nama : <b><%= pegawai.name %></b>
      </li>
      <li class="list-group-item">
        <i class="bi bi-envelope-fill"></i> Alamat :
        <b><%= pegawai.alamat %></b>
      </li>
      <li class="list-group-item">
        <i class="bi bi-phone-fill"></i> Jenis Kelamin :
        <b><%= pegawai.jenis_kelamin %></b>
      </li>
      <li class="list-group-item">
        <i class="bi bi-phone-fill"></i> status :
        <b
          ><span
            class="<%= pegawai.status === 'aktif' ? 'badge bg-success' : 'badge bg-danger' %>"
            ><%= pegawai.status %></span
          ></b
        >
      </li>

      <li class="list-group-item">
        <i class="bi bi-phone-fill"></i> Role :
        <b><%= pegawai.nama_role %></b>
      </li>
      <!-- <li class="list-group-item">
        <i class="bi bi-phone-fill"></i> password :
        <b><%# pegawai.password %></b>
      </li> -->
      <li class="list-group-item">
        <a href="/absensi" class="btn btn-dark"
          ><i class="bi bi-arrow-left-circle-fill"></i> Kembali</a
        >
      </li>
    </ul>
  </div>
  <h1>History Absensi</h1>
  <div class="card shadow-sm p-3 mb-5 bg-body rounded mt-2">
    <div class="card-body">
      <table class="table">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Tanggal</th>
            <th scope="col">Jam Masuk</th>
            <th scope="col">Jam Keluar</th>
            <th scope="col">Keterangan</th>
          </tr>
        </thead>
        <tbody>
          <% if (pegawai < 1) {%>
          <tr>
            <td colspan="4" class="text-center">data kosong</td>
          </tr>
          <% } else {%> <% for (let index=0; index < absensi.length; index++) {
          var today = absensi[index].tanggal.toLocaleDateString('id-ID', {
          weekday: 'long', day : 'numeric', month : 'long', year : 'numeric'
          }).split(' ').join(' '); %>

          <tr>
            <td scope="row"><%= index+1 %></td>
            <td><%=today %></td>
            <td><%=absensi[index].jam_masuk %></td>
            <td><%=absensi[index].jam_keluar %></td>
            <td><%=absensi[index].keterangan %></td>
          </tr>
          <% } %>
        </tbody>
        <%}%>
      </table>
    </div>
  </div>
</div>
